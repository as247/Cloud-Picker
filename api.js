!function(){for(var e,t=["assert","cd","clear","count","countReset","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","select","table","time","timeEnd","timeStamp","timeline","timelineEnd","trace","warn"],i=t.length,o=window.console=window.console||{},n=function(){};i--;)e=t[i],o[e]||(o[e]=n)}(),function(e){function t(){return c()+c()+"-"+c()}function i(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function o(e,t){return"number"!=typeof t||a[i(e)]?t:t+"px"}function n(e,t){var n="";if("string"==typeof e)t||0===t?n=i(e)+":"+o(e,t):this.style.removeProperty(i(e));else for(key in e)e[key]||0===e[key]?n+=i(key)+":"+o(key,e[key])+";":this.each(function(){this.style.removeProperty(i(key))});this.style.cssText+=";"+n}function s(e,t){var i="";for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];i+=encodeURIComponent(o)+"="+encodeURIComponent(n)+"&"}return i.length>0&&(i=i.substring(0,i.length-1),e=e+"?"+i),e}function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function r(e){this.options=e,this.api="http://picker.vui360.com/picker/",this.id=t(),this.ensureElement(),this.render(),this.listen()}var a={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},l=r.prototype;l.success=function(e){return this.options.success=e,this},l.cancel=function(e){return this.options.cancel=e,this},l.start=function(e){return this.options.start=e,this},l.getUrl=function(){var e,t={};return this.options.buttons&&(t.btn=this.options.buttons),e=s(this.api,t),e+="#"+this.id},l.render=function(){var e=document.createElement("iframe");e.src=this.getUrl(),e.setAttribute("frameborder","0");var t=this.options.style||{width:"100%",height:30};return this.options.width&&(t.width=this.options.width),this.options.height&&(t.height=this.options.height),"object"==typeof t&&n.call(e,t),this.el&&this.el.appendChild(e),e},l.ensureElement=function(){var e=this.options.el;e||console.error("CloudPicker: No element specified"),e.length&&"function"==typeof e.get&&(e=e.get(0)),"string"==typeof e&&(e=document.getElementById(this.options.el)),this.el=e},l.listen=function(){var e=this;window.addEventListener?addEventListener("message",function(t){e.onmessage(t)},!1):attachEvent("onmessage",function(t){e.onmessage(t)})},l.onmessage=function(e){if("object"==typeof e.data){var t=e.data;t._id==this.id&&(delete t._id,t._start?this.options.start&&this.options.start(t.data):t._cancel?this.options.cancel&&this.options.cancel(t.data):this.options.success&&this.options.success(e.data))}},e.create=function(e,t,i,o){return o=o||{},"string"==typeof e&&(o.el=e),"object"==typeof e&&(e.el?o=e:o.el=e),"object"==typeof t?(o=t,o.el=e):"string"==typeof t?o.buttons=t:"function"==typeof t&&(o.success=t),"function"==typeof i?o.cancel=i:"object"==typeof i?(o=i,o.el=e,o.success=t):"string"==typeof i&&(o.buttons=i),"string"==typeof o.buttons&&(o.buttons=o.buttons.split(/[\s,]+/)),o.buttons=JSON.stringify(o.buttons),new r(o)}}(CloudPicker={});