!function(){for(var t,e=["assert","cd","clear","count","countReset","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","select","table","time","timeEnd","timeStamp","timeline","timelineEnd","trace","warn"],n=e.length,i=window.console=window.console||{},o=function(){};n--;)t=e[n],i[t]||(i[t]=o)}(),function(t){function e(){return r()+r()+"-"+r()}function n(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function i(t,e){return"number"!=typeof e||u[n(t)]?e:e+"px"}function o(t,e){var o="";if("string"==typeof t)e||0===e?o=n(t)+":"+i(t,e):this.style.removeProperty(n(t));else for(key in t)t[key]||0===t[key]?o+=n(key)+":"+i(key,t[key])+";":this.each(function(){this.style.removeProperty(n(key))});this.style.cssText+=";"+o}function s(t,e){var n="";for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];n+=encodeURIComponent(i)+"="+encodeURIComponent(o)+"&"}return n.length>0&&(n=n.substring(0,n.length-1),t=t+"?"+n),t}function r(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function c(t){this.options=t,this.api="http://picker.vui360.com/picker/",this.id=e(),this.ensureElement(),this.render(),this.listen()}var u={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},a=c.prototype;a.success=function(t){return this.options.success=t,this},a.cancel=function(t){return this.options.cancel=t,this},a.start=function(t){return this.options.start=t,this},a.getUrl=function(){var t,e={};return this.options.buttons&&(e.btn=this.options.buttons),t=s(this.api,e),t+="#"+this.id},a.render=function(){var t=document.createElement("iframe");t.src=this.getUrl(),t.setAttribute("frameborder","0");var e=this.options.style||{width:"100%",height:31};return this.options.width&&(e.width=this.options.width),this.options.height&&(e.height=this.options.height),"object"==typeof e&&o.call(t,e),this.el&&this.el.appendChild(t),t},a.ensureElement=function(){this.options.el||console.error("CloudPicker: No element specified"),"string"==typeof this.options.el&&(this.options.el=document.getElementById(this.options.el)),this.el=this.options.el},a.listen=function(){var t=this;window.addEventListener?addEventListener("message",function(e){t.onmessage(e)},!1):attachEvent("onmessage",function(e){t.onmessage(e)})},a.onmessage=function(t){if("object"==typeof t.data){var e=t.data;e._id==this.id&&(delete e._id,e._start?this.options.start&&this.options.start(e.data):e._cancel?this.options.cancel&&this.options.cancel(e.data):this.options.success&&this.options.success(t.data))}},t.create=function(t,e,n,i){return i=i||{},"string"==typeof t&&(i.el=t),"object"==typeof t&&"undefined"==typeof t.innerHTML&&(i=t),"object"==typeof e?(i=e,i.el=t):"string"==typeof e?i.buttons=e:"function"==typeof e&&(i.success=e),"function"==typeof n?i.cancel=n:"object"==typeof n?(i=n,i.el=t,i.success=e):"string"==typeof n&&(i.buttons=n),"string"==typeof i.buttons&&(i.buttons=i.buttons.split(/[\s,]+/)),i.buttons=JSON.stringify(i.buttons),new c(i)}}(CloudPicker={});